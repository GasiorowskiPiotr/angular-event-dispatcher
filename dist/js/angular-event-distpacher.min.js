var __extends=this.__extends||function(n,e){function r(){this.constructor=n}for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);r.prototype=e.prototype,n.prototype=new r},evilduck;!function(n){var e;!function(e){var r=function(n){function e(){n.apply(this,arguments)}return __extends(e,n),e.prototype.map=function(n,e){return _.map(n,e)},e.prototype.union=function(n,e){return _.union(n,e)},e.prototype.find=function(n,e){return _.find(n,e)},e.prototype.indexOf=function(n,e){return _.indexOf(n,e)},e.prototype.filter=function(n,e){return _.filter(n,e)},e}(n.CollWrapper);e.Underscore=r}(e=n.underscore||(n.underscore={}))}(evilduck||(evilduck={}));var __extends=this.__extends||function(n,e){function r(){this.constructor=n}for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);r.prototype=e.prototype,n.prototype=new r},evilduck;!function(n){var e;!function(e){var r=function(n){function e(e,r){n.call(this),this.$q=e,this.coll=r}return __extends(e,n),e.prototype.when=function(n){return void 0===n&&(n=null),new t(n?this.$q.when(n):this.$q.when())},e.prototype.all=function(n){return new t(this.$q.all(this.coll.map(n,function(n){return n.innerPromise})))},e}(n.QWrapper);e.QService=r;var t=function(n){function e(e){n.call(this),this.promise=e}return __extends(e,n),Object.defineProperty(e.prototype,"innerPromise",{get:function(){return this.promise},enumerable:!0,configurable:!0}),e.prototype.then=function(n){return new e(this.promise.then(function(e){return n(e)}))},e.prototype.catch=function(n){return new e(this.promise.catch(function(e){return n(e)}))},e.prototype.finally=function(n){return new e(this.promise.finally(function(){return n()}))},e}(n.PromiseWrapper);e.QPromise=t}(e=n.angular||(n.angular={}))}(evilduck||(evilduck={})),angular.module("evilduck.eventDispatcher",[]).service("collWrapper",function(){return new evilduck.underscore.Underscore}).service("qWrapper",["$q","collWrapper",function(n,e){return new evilduck.angular.QService(n,e)}]).service("eventDispatcher",["qWrapper","collWrapper",function(n,e){return new evilduck.EventDispatcher(n,e)}]);
var __extends=this.__extends||function(n,t){function e(){this.constructor=n}for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);e.prototype=t.prototype,n.prototype=new e},evilduck;!function(n){var t;!function(t){var e=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.ngOn=function(n,t,e,r){var o=this.on(t,e,r);o&&n.$on("$destroy",function(){o.destroy()})},t}(n.EventDispatcher);t.NgEventDispatcher=e}(t=n.angular||(n.angular={}))}(evilduck||(evilduck={}));var __extends=this.__extends||function(n,t){function e(){this.constructor=n}for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);e.prototype=t.prototype,n.prototype=new e},evilduck;!function(n){var t;!function(t){var e=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.map=function(n,t){return _.map(n,t)},t.prototype.union=function(n,t){return _.union(n,t)},t.prototype.find=function(n,t){return _.find(n,t)},t.prototype.indexOf=function(n,t){return _.indexOf(n,t)},t.prototype.filter=function(n,t){return _.filter(n,t)},t}(n.CollWrapper);t.Underscore=e}(t=n.underscore||(n.underscore={}))}(evilduck||(evilduck={}));var __extends=this.__extends||function(n,t){function e(){this.constructor=n}for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);e.prototype=t.prototype,n.prototype=new e},evilduck;!function(n){var t;!function(t){var e=function(n){function t(t,e){n.call(this),this.$q=t,this.coll=e}return __extends(t,n),t.prototype.when=function(n){return void 0===n&&(n=null),new r(n?this.$q.when(n):this.$q.when())},t.prototype.all=function(n){return new r(this.$q.all(this.coll.map(n,function(n){return n.innerPromise})))},t}(n.QWrapper);t.QService=e;var r=function(n){function t(t){n.call(this),this.promise=t}return __extends(t,n),Object.defineProperty(t.prototype,"innerPromise",{get:function(){return this.promise},enumerable:!0,configurable:!0}),t.prototype.then=function(n){return new t(this.promise.then(function(t){return n(t)}))},t.prototype.catch=function(n){return new t(this.promise.catch(function(t){return n(t)}))},t.prototype.finally=function(n){return new t(this.promise.finally(function(){return n()}))},t}(n.PromiseWrapper);t.QPromise=r}(t=n.angular||(n.angular={}))}(evilduck||(evilduck={})),angular.module("evilduck.eventDispatcher",[]).service("collWrapper",function(){return new evilduck.underscore.Underscore}).service("qWrapper",["$q","collWrapper",function(n,t){return new evilduck.angular.QService(n,t)}]).service("eventDispatcher",["qWrapper","collWrapper",function(n,t){return new evilduck.angular.NgEventDispatcher(n,t)}]);